(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"0b8eb3e35929778b339a":function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),o=r.n(n),c=(r("8a2d1b95e05b6a321e74"),r("d7dd51e1bf6bfc2c9c3d")),a=r("a28fc3c963a1d4d1a2e5"),i=r("ab4cb61bcb2dc161defb"),u=r("adc20f99e57c573c589c"),f=r("d95b0cf107403b178365"),s=r("a72b40110d9c31c9b5c5"),l=r("6542cd13fd5dd1bcffd4"),p=r("daf545f8d011fcd38fda"),b=r("0e284c8b85443577b38d"),d=r("6c68d13fe9e3e77d8fc4"),h="app/HomePage/CLEAR_STATE",m="app/HomePage/LOAD_ARTICLES_ALL",y="app/HomePage/LOAD_ARTICLES_ALL_ERROR",O="app/HomePage/LOAD_ARTICLES_ALL_SUCCESS",g="app/HomePage/LOAD_NEXT",v="app/HomePage/LOAD_NEXT_ERROR",j="app/HomePage/LOAD_NEXT_SUCCESS";var S=r("54f683fcda7806277002"),w=Object(S.fromJS)({loading:!1,error:!1,articles:[],offset:0});var _,L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return w;case g:return e.set("loading",!0).set("error",!1);case j:return e.update("articles",function(e){return e.concat(Object(S.fromJS)(t.articles))}).update("offset",function(e){return e+t.articles.length}).set("loading",!1);case v:return e.set("error",Object(S.fromJS)(t.error)).set("loading",!1);case m:return e.set("articles",Object(S.fromJS)([])).set("loading",!0).set("error",!1);case O:return e.set("articles",Object(S.fromJS)(t.articles)).set("offset",t.articles.length).set("loading",!1);case y:return e.set("error",Object(S.fromJS)(t.error)).set("loading",!1);default:return e}},P=function(e){return e.get("homePage",w)},A=function(){return Object(a.a)(P,function(e){return e.get("offset")})},x=function(){return Object(a.a)(P,function(e){return e.toJS()})},E=r("b989cec74a4c48e91050"),R=r("f363639bc5c3c97af546"),k=r("d5274b919f89fbd8bc5c"),C=regeneratorRuntime.mark(D),T=regeneratorRuntime.mark(H),J=regeneratorRuntime.mark(N);function D(){var e,t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(d.d)(A());case 2:return e=n.sent,t=E.a.article.getAll(e),n.prev=4,n.next=7,Object(d.b)(R.a,t);case 7:return r=n.sent,n.next=10,Object(d.c)((c=Object(k.a)(r),{type:O,articles:c}));case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(4),n.next=16,Object(d.c)((o=n.t0,{type:y,error:o}));case 16:case"end":return n.stop()}var o,c},C,this,[[4,12]])}function H(){var e,t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(d.d)(A());case 2:if(!((e=n.sent)<=0)){n.next=5;break}return n.abrupt("return");case 5:return t=E.a.article.getAll(e),n.prev=6,n.next=9,Object(d.b)(R.a,t);case 9:return r=n.sent,n.next=12,Object(d.c)((c=Object(k.a)(r),{type:j,articles:c}));case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(6),n.next=18,Object(d.c)((o=n.t0,{type:v,error:o}));case 18:case"end":return n.stop()}var o,c},T,this,[[6,14]])}function N(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([Object(d.e)(m,D),Object(d.e)(g,H)]);case 2:case"end":return e.stop()}},J,this)}function I(e){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"HomePage",function(){return M});var M=function(e){function t(){var e,r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return n=this,o=(e=X(t)).call.apply(e,[this].concat(a)),r=!o||"object"!==I(o)&&"function"!==typeof o?q(n):o,B(q(q(r)),"handleSubmitSearch",function(e){return function(t){"Enter"===t.key&&""!==e&&(t.preventDefault(),r.props.history.push("/search?q=".concat(e)))}}),B(q(q(r)),"handleViewComments",function(e){return function(){r.props.history.push("/article?id=".concat(e))}}),r}var r,n,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,o.a.PureComponent),r=t,(n=[{key:"componentDidMount",value:function(){this.props.handleLoadArticles()}},{key:"componentWillUnmount",value:function(){this.props.handleClearState()}},{key:"render",value:function(){var e=this.props.handleLoadNext;return function(e,t,r,n){_||(_="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,c=arguments.length-3;if(t||0===c||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===c)t.children=n;else if(c>1){for(var i=new Array(c),u=0;u<c;u++)i[u]=arguments[u+3];t.children=i}return{$$typeof:_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{},void 0,o.a.createElement(p.a,U({},this.props,{handleSubmitSearch:this.handleSubmitSearch})),o.a.createElement(b.a,U({},this.props,{handleViewComments:this.handleViewComments,handleScrollBottom:e})))}}])&&V(r.prototype,n),c&&V(r,c),t}(),W=Object(a.b)({homePage:x(),user:Object(l.b)(),articles:Object(a.a)(P,function(e){return e.get("articles")}),offset:A()});var z=Object(c.connect)(W,function(e){return{handleClearState:function(){e({type:h})},handleLoadArticles:function(){e({type:m})},handleLoadNext:function(){e({type:g})},handleLogout:function(){e(Object(s.a)())}}}),F=Object(f.a)({key:"homePage",reducer:L}),G=Object(u.a)({key:"homePage",saga:N});t.default=Object(i.compose)(F,G,z)(M)}}]);