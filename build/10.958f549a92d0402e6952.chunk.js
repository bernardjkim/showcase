(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"804982f965dff9c45325":function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),a=r.n(n),c=(r("8a2d1b95e05b6a321e74"),r("c25d3de6a26e2dd439cd")),o=r.n(c),i=r("d7dd51e1bf6bfc2c9c3d"),u=r("a28fc3c963a1d4d1a2e5"),s=r("ab4cb61bcb2dc161defb"),f=r("adc20f99e57c573c589c"),p=r("d95b0cf107403b178365"),l=r("a72b40110d9c31c9b5c5"),b=r("6542cd13fd5dd1bcffd4"),h=r("daf545f8d011fcd38fda"),d=r("0e284c8b85443577b38d"),y=r("6c68d13fe9e3e77d8fc4"),O="app/SearchPage/CLEAR_STATE",S="app/SearchPage/SET_SEARCH",m="app/SearchPage/LOAD_ARTICLES",g="app/SearchPage/LOAD_ARTICLES_ERROR",v="app/SearchPage/LOAD_ARTICLES_SUCCESS",j="app/SearchPage/LOAD_NEXT",w="app/SearchPage/LOAD_NEXT_ERROR",P="app/SearchPage/LOAD_NEXT_SUCCESS";var _=r("54f683fcda7806277002"),x=Object(_.fromJS)({loading:!1,error:!1,articles:[],search:"",offset:0});var E,R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return x;case S:return e.set("search",t.search);case m:return e.set("articles",Object(_.fromJS)([])).set("offset",0).set("loading",!0).set("error",!1);case v:return e.set("articles",Object(_.fromJS)(t.articles)).set("offset",t.articles.length).set("loading",!1);case g:return e.set("error",Object(_.fromJS)(t.error)).set("loading",!1);case j:return e.set("loading",!0).set("error",!1);case P:return e.update("articles",function(e){return e.concat(Object(_.fromJS)(t.articles))}).update("offset",function(e){return e+t.articles.length}).set("loading",!1);case w:return e.set("error",Object(_.fromJS)(t.error)).set("loading",!1);default:return e}},k=function(e){return e.get("searchPage",x)},A=function(){return Object(u.a)(k,function(e){return e.get("offset")})},C=function(){return Object(u.a)(k,function(e){return e.get("search")})},L=function(){return Object(u.a)(k,function(e){return e.toJS()})},T=r("b989cec74a4c48e91050"),D=r("f363639bc5c3c97af546"),J=r("d5274b919f89fbd8bc5c"),N=regeneratorRuntime.mark(q),U=regeneratorRuntime.mark(I),V=regeneratorRuntime.mark(X);function q(){var e,t,r,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(y.d)(C());case 2:return e=a.sent,a.next=5,Object(y.d)(A());case 5:return t=a.sent,r=T.a.article.search(e,t),a.prev=7,a.next=10,Object(y.b)(D.a,r);case 10:return n=a.sent,a.next=13,Object(y.c)((o=Object(J.a)(n),{type:v,articles:o}));case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(7),a.next=19,Object(y.c)((c=a.t0,{type:g,error:c}));case 19:case"end":return a.stop()}var c,o},N,this,[[7,15]])}function I(){var e,t,r,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(y.d)(C());case 2:return e=a.sent,a.next=5,Object(y.d)(A());case 5:if(!((t=a.sent)<=0)){a.next=8;break}return a.abrupt("return");case 8:return r=T.a.article.search(e,t),a.prev=9,a.next=12,Object(y.b)(D.a,r);case 12:return n=a.sent,a.next=15,Object(y.c)((o=Object(J.a)(n),{type:P,articles:o}));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(9),a.next=21,Object(y.c)((c=a.t0,{type:w,error:c}));case 21:case"end":return a.stop()}var c,o},U,this,[[9,17]])}function X(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.e)(m,q),Object(y.e)(j,I)]);case 2:case"end":return e.stop()}},V,this)}function $(e){return($="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"SearchPage",function(){return G});var G=function(e){function t(){var e,r,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return n=this,a=(e=M(t)).call.apply(e,[this].concat(o)),r=!a||"object"!==$(a)&&"function"!==typeof a?z(n):a,F(z(z(r)),"handleSubmitSearch",function(e){return function(t){"Enter"===t.key&&""!==e&&(t.preventDefault(),r.props.history.push("/search?q=".concat(e)),r.props.handleSetSearch(e))}}),F(z(z(r)),"handleViewComments",function(e){return function(){r.props.history.push("/article?id=".concat(e))}}),r}var r,n,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,a.a.PureComponent),r=t,(n=[{key:"componentDidMount",value:function(){var e=o.a.parse(this.props.location.search).q;this.props.handleSetSearch(e)}},{key:"componentWillUnmount",value:function(){this.props.handleClearState()}},{key:"componentDidUpdate",value:function(e){e.search!==this.props.search&&this.props.handleLoadArticles()}},{key:"render",value:function(){var e=this.props.location,t=this.props.handleLoadNext;return function(e,t,r,n){E||(E="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,c=arguments.length-3;if(t||0===c||(t={children:void 0}),t&&a)for(var o in a)void 0===t[o]&&(t[o]=a[o]);else t||(t=a||{});if(1===c)t.children=n;else if(c>1){for(var i=new Array(c),u=0;u<c;u++)i[u]=arguments[u+3];t.children=i}return{$$typeof:E,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{},void 0,a.a.createElement(h.a,B({},this.props,{searchValue:o.a.parse(e.search).q,handleSubmitSearch:this.handleSubmitSearch})),a.a.createElement(d.a,B({},this.props,{handleViewComments:this.handleViewComments,handleScrollBottom:t})))}}])&&H(r.prototype,n),c&&H(r,c),t}(),K=Object(u.b)({searchPage:L(),user:Object(b.b)(),articles:Object(u.a)(k,function(e){return e.get("articles")}),search:C()});var Q=Object(i.connect)(K,function(e){return{handleClearState:function(){e({type:O})},handleSetSearch:function(t){e(function(e){return{type:S,search:e}}(t))},handleLoadArticles:function(){e({type:m})},handleLoadNext:function(){e({type:j})},handleLogout:function(){e(Object(l.a)())}}}),Y=Object(p.a)({key:"searchPage",reducer:R}),Z=Object(f.a)({key:"searchPage",saga:X});t.default=Object(s.compose)(Y,Z,Q)(G)}}]);